<!DOCTYPE html>
<!-- saved from url=(0084)https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real -->
<html class="client-js" lang="es" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Firebase - Base de Datos en Tiempo Real - Manuais Informática - IES San Clemente.</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Firebase_-_Base_de_Datos_en_Tiempo_Real","wgTitle":"Firebase - Base de Datos en Tiempo Real","wgCurRevisionId":64921,"wgRevisionId":64921,"wgArticleId":14986,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"es","wgPageContentModel":"wikitext","wgSeparatorTransformTable":[",\t."," \t,"],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],"wgMonthNamesShort":["","ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],"wgRelevantPageName":"Firebase_-_Base_de_Datos_en_Tiempo_Real","wgRelevantArticleId":14986,"wgRequestId":"7d1092ea85bbc81de4a473c0","wgCSPNonce":false,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.toc.styles":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.options@00wq302",function($,jQuery,require,module){/*@nomin*/mw.user.options.set({"variant":"es"});
});mw.loader.implement("user.tokens@0tffind",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});RLPAGEMODULES=["site","mediawiki.page.startup","mediawiki.user","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"];mw.loader.load(RLPAGEMODULES);});</script>
<link rel="stylesheet" href="./Firebase - Base de Datos en Tiempo Real_files/load.php">
<script async="" src="./Firebase - Base de Datos en Tiempo Real_files/load(1).php"></script>
<style>
.suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:0;z-index:1099;padding:0;margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:#fff;cursor:pointer;border:1px solid #a2a9b1;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:#fff;cursor:pointer;border:1px solid #a2a9b1;padding:0;margin:0}.suggestions-result{color:#000;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left; overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.suggestions-result-current{background-color:#2a4b8d;color:#fff}.suggestions-special .special-label{color:#72777d;text-align:left}.suggestions-special .special-query{color:#000;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:#c8ccd1}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:#fff}.highlight{font-weight:bold}
@media screen {
	.tochidden,.toctoggle{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.toctoggle{font-size:94%}}
@media print {
	.toc.tochidden,.toctoggle{display:none}}</style><style>
.suggestions a.mw-searchSuggest-link,.suggestions a.mw-searchSuggest-link:hover,.suggestions a.mw-searchSuggest-link:active,.suggestions a.mw-searchSuggest-link:focus{color:#000;text-decoration:none}.suggestions-result-current a.mw-searchSuggest-link,.suggestions-result-current a.mw-searchSuggest-link:hover,.suggestions-result-current a.mw-searchSuggest-link:active,.suggestions-result-current a.mw-searchSuggest-link:focus{color:#fff}.suggestions a.mw-searchSuggest-link .special-query{ overflow:hidden;text-overflow:ellipsis;white-space:nowrap}</style><meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.32.0">
<link rel="shortcut icon" href="https://manuais.iessanclemente.net/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="https://manuais.iessanclemente.net/opensearch_desc.php" title="Manuais Informática - IES San Clemente. (es)">
<link rel="EditURI" type="application/rsd+xml" href="https://manuais.iessanclemente.net/api.php?action=rsd">
<link rel="license" href="https://manuais.iessanclemente.net/index.php/Manuais:About">
<link rel="alternate" type="application/atom+xml" title="Canal Atom de Manuais Informática - IES San Clemente." href="https://manuais.iessanclemente.net/index.php?title=Especial:CambiosRecientes&amp;feed=atom">
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=es&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Firebase_-_Base_de_Datos_en_Tiempo_Real rootpage-Firebase_-_Base_de_Datos_en_Tiempo_Real skin-vector action-view"><div id="MathJax_Message" style="display: none;"></div>		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="es">Firebase - Base de Datos en Tiempo Real</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">De Manuais Informática - IES San Clemente.</div>				<div id="contentSub"></div>
				<div id="jump-to-nav"></div>				<a class="mw-jump-link" href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#mw-head">Ir a la navegación</a>
				<a class="mw-jump-link" href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#p-search">Ir a la búsqueda</a>
				<div id="mw-content-text" lang="es" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="es" dir="ltr"><h2>Sumario</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Qu.C3.A9_es_Firebase"><span class="tocnumber">1</span> <span class="toctext">Qué es Firebase</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Registro_en_Firebase"><span class="tocnumber">2</span> <span class="toctext">Registro en Firebase</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Panel_de_Control_de_Firebase_dentro_de_una_Aplicaci.C3.B3n"><span class="tocnumber">3</span> <span class="toctext">Panel de Control de Firebase dentro de una Aplicación</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Uso_de_Firebase_con_JavaScript"><span class="tocnumber">4</span> <span class="toctext">Uso de Firebase con JavaScript</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Crear_Proyecto_en_Firebase"><span class="tocnumber">4.1</span> <span class="toctext">Crear Proyecto en Firebase</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Guardar_datos_en_Firebase"><span class="tocnumber">4.2</span> <span class="toctext">Guardar datos en Firebase</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Recuperar_datos_desde_Firebase"><span class="tocnumber">4.3</span> <span class="toctext">Recuperar datos desde Firebase</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Actualizar_y_Borrar_datos_en_Firebase"><span class="tocnumber">4.4</span> <span class="toctext">Actualizar y Borrar datos en Firebase</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Actualizaci.C3.B3n_de_Datos"><span class="tocnumber">4.4.1</span> <span class="toctext">Actualización de Datos</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Borrado_de_Datos"><span class="tocnumber">4.4.2</span> <span class="toctext">Borrado de Datos</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Autenticaci.C3.B3n_en_Firebase"><span class="tocnumber">4.5</span> <span class="toctext">Autenticación en Firebase</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Registro"><span class="tocnumber">4.5.1</span> <span class="toctext">Registro</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Login"><span class="tocnumber">4.5.2</span> <span class="toctext">Login</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Administraci.C3.B3n_.28usuarios_autenticados.29"><span class="tocnumber">4.5.3</span> <span class="toctext">Administración (usuarios autenticados)</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Nuevo_Producto_.28usuarios_autenticados.29"><span class="tocnumber">4.5.4</span> <span class="toctext">Nuevo Producto (usuarios autenticados)</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Editar_Producto_.28usuarios_autenticados.29"><span class="tocnumber">4.5.5</span> <span class="toctext">Editar Producto (usuarios autenticados)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Hosting_en_Firebase"><span class="tocnumber">4.6</span> <span class="toctext">Hosting en Firebase</span></a>
<ul>
<li class="toclevel-3 tocsection-18"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Configuraci.C3.B3n_de_las_herramientas_para_trabajar_desde_l.C3.ADnea_de_comandos"><span class="tocnumber">4.6.1</span> <span class="toctext">Configuración de las herramientas para trabajar desde línea de comandos</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Inicializaci.C3.B3n_y_env.C3.ADo_de_la_aplicaci.C3.B3n_a_Firebase"><span class="tocnumber">4.6.2</span> <span class="toctext">Inicialización y envío de la aplicación a Firebase</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real#Desactivaci.C3.B3n_del_Hosting_en_Firebase"><span class="tocnumber">4.6.3</span> <span class="toctext">Desactivación del Hosting en Firebase</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h1><span id="Qué_es_Firebase"></span><span class="mw-headline" id="Qu.C3.A9_es_Firebase">Qué es Firebase</span></h1>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Logo-firebase.jpg" class="image"><img alt="Logo-firebase.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Logo-firebase.jpg" width="152" height="40"></a>
</p><p><b>Firebase</b> es un servicio web que nos proporciona un <b>backend</b> en la nube con una fuente de datos <b>NoSQL</b> en <b>tiempo real</b> y <b>librerías</b> para poder acceder a la base de datos desde aplicaciones <b>Web</b>, <b>IOS</b> o <b>Android</b>.
</p><p>Los datos almacenados en <b>Firebase</b> se <b>sincronizan</b> con los clientes en <b>tiempo real</b>. Es básicamente con una base de datos remota que responde en tiempo real a los cambios realizados en los datos. De esta forma podemos escribir aplicaciones que almacenen o actualicen datos en Firebase y todos los clientes que utilicen dicha base de datos serán notificados en tiempo real de los cambios realizados.
</p><p><b>Firebase</b> también facilita la autenticación con el propio sistema de Firebase o mediante conectores como pueden ser Facebook, Twitter, etc.
</p><p><b>Firebase</b> nos permitirá programar aplicaciones centrándonos en la parte del frontend, dejando que todo el backend lo gestione Firebase.
</p><p>Su <b>página oficial</b> es: <b><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://firebase.google.com/">https://firebase.google.com</a></b>
</p><p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-Info.jpg" class="image"><img alt="Firebase-Info.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-Info.jpg" width="1281" height="702"></a>
<br><br>
</p>
<h1><span class="mw-headline" id="Registro_en_Firebase">Registro en Firebase</span></h1>
<ul><li>Para <b>registrarnos en Firebase</b> lo podemos hacer con nuestra cuenta de Google (o del IES San Clemente en nuestro caso particular).</li></ul>
<ul><li>Entraremos en <b><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://firebase.google.com/">https://firebase.google.com/</a></b> y nos loguearemos con la cuenta de Google o del Instituto..</li></ul>
<ul><li>Aspecto de la consola que se muestra al loguearnos e ir a la Consola en Firebase:</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-Consola.jpg" class="image"><img alt="Firebase-Consola.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-Consola.jpg" width="982" height="655"></a>
</p><p><br><br>
</p>
<ul><li><b>Proyecto de demostración</b>: <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://console.firebase.google.com/project/fir-demo-project/overview">https://console.firebase.google.com/project/fir-demo-project/overview</a></li>
<li><b>Tutorial</b> para el <b>uso</b> de <b>Firebase</b>: <b><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://firebase.google.com/docs/web/setup">https://firebase.google.com/docs/web/setup</a></b></li></ul>
<p><br><br>
</p>
<h1><span id="Panel_de_Control_de_Firebase_dentro_de_una_Aplicación"></span><span class="mw-headline" id="Panel_de_Control_de_Firebase_dentro_de_una_Aplicaci.C3.B3n">Panel de Control de Firebase dentro de una Aplicación</span></h1>
<ul><li><b>Aspecto del Panel de control - Funcionalidades más importantes</b>:
<ul><li><b>Analytics</b>: estadísticas con las que podemos monitorar el estado de la aplicación y la cantidad de recursos que están siendo destinados para su funcionamiento (usuarios concurrentes, transferencia, etc).</li>
<li><b>Authentication</b>: desde aquí se puede controlar cuáles son los mecanismos que estarán disponibles para la autenticación de usuarios, tanto email y clave como por redes sociales, junto con los datos de configuración.</li>
<li><b>Database</b>: para acceder al modelo de datos. Se edita un JSON básicamente en esta sección.</li>
<li><b>Storage</b>: para acceder al repositorio de archivos generados por los usuarios (como fotos, vídeos y archivos de audio) sin necesidad de utilizar código de servidor.</li>
<li><b>Hosting</b>: es un espacio de alojamiento donde desplegar la app realizada. Una vez activado también se pueden controlar aquí las configuraciones del hosting.</li></ul></li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Panel-Control-Firebase.jpg" class="image"><img alt="Panel-Control-Firebase.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Panel-Control-Firebase.jpg" width="947" height="855"></a>
<br><br>
</p>
<h1><span class="mw-headline" id="Uso_de_Firebase_con_JavaScript">Uso de Firebase con JavaScript</span></h1>
<p>Ejemplos de código con Firebase: <b><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://firebase.google.com/docs/samples/#web">https://firebase.google.com/docs/samples/#web</a></b>
</p><p>Primeros pasos con Firebase (recomendable su lectura): <b><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://firebase.google.com/docs/database/web/start">https://firebase.google.com/docs/database/web/start</a></b>
Referencia de la <b>API de Firebase</b>: <b><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://firebase.google.com/docs/reference/js/">https://firebase.google.com/docs/reference/js/</a></b>
</p>
<h2><span class="mw-headline" id="Crear_Proyecto_en_Firebase">Crear Proyecto en Firebase</span></h2>
<ul><li><b>Guía de primeros pasos con Firebase</b>, aquí: <b><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://firebase.google.com/docs/web/setup">https://firebase.google.com/docs/web/setup</a></b></li></ul>
<ul><li>Pulsamos en <b>Create a Project</b></li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-create-new-project.jpg" class="image"><img alt="Firebase-create-new-project.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-create-new-project.jpg" width="422" height="376"></a>
</p>
<ul><li>A continuación pulsaremos el botón&nbsp;: <b>Añade Firebase a tu aplicación web</b>.</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-add-to-web-app.jpg" class="image"><img alt="Firebase-add-to-web-app.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-add-to-web-app.jpg" width="584" height="255"></a>
</p>
<h2><span class="mw-headline" id="Guardar_datos_en_Firebase">Guardar datos en Firebase</span></h2>
<p>Vamos a realizar una prueba para <b>guardar datos en Firebase</b>.
</p>
<ul><li>Creamos una <b>carpeta para nuestro proyecto</b> con los siguientes <b>directorios</b>:</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Directorios-proyecto.jpg" class="image"><img alt="Directorios-proyecto.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Directorios-proyecto.jpg" width="90" height="57"></a>
</p>
<ul><li>Crearemos un fichero <b>nuevoproducto.html</b> con el siguiente código:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">"es"</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"viewport"</span> <span class="na">content</span><span class="o">=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"css/custom.css"</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://www.gstatic.com/firebasejs/3.7.5/firebase.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"js/nuevoproducto.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Añadir un producto<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">class</span><span class="o">=</span><span class="s">"navbar navbar-inverse navbar-fixed-top"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"navbar"</span> <span class="na">class</span><span class="o">=</span><span class="s">"navbar-collapse collapse"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">"nav navbar-nav"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"index.html"</span> <span class="na">title</span><span class="o">=</span><span class="s">"Inicio"</span><span class="p">&gt;</span>Inicio<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"administracion.html"</span> <span class="na">title</span><span class="o">=</span><span class="s">""</span><span class="p">&gt;</span>Administracion<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">"active"</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"nuevoproducto.html"</span> <span class="na">title</span><span class="o">=</span><span class="s">""</span><span class="p">&gt;</span>Añadir Productos<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"container-fluid"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">form</span> <span class="na">id</span><span class="o">=</span><span class="s">"formularioAlta"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"articulo"</span><span class="p">&gt;</span>Articulo<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-control"</span> <span class="na">id</span><span class="o">=</span><span class="s">"articulo"</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">"Nombre del artículo"</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"descripcion"</span><span class="p">&gt;</span>Descripción<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">textarea</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-control"</span> <span class="na">id</span><span class="o">=</span><span class="s">"descripcion"</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">"Descripción del artículo"</span> <span class="na">rows</span><span class="o">=</span><span class="s">"3"</span><span class="p">&gt;&lt;/</span><span class="nt">textarea</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"precio"</span><span class="p">&gt;</span>Precio<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-control"</span> <span class="na">id</span><span class="o">=</span><span class="s">"precio"</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">"Precio del artículo"</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"imagen"</span><span class="p">&gt;</span>Elegir Imagen<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"file"</span> <span class="na">id</span><span class="o">=</span><span class="s">"imagen"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"help-block"</span><span class="p">&gt;</span>Elija una imagen para este artículo<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">img</span> <span class="na">id</span><span class="o">=</span><span class="s">"previsualizacion"</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-primary"</span> <span class="na">id</span><span class="o">=</span><span class="s">"botonGuardar"</span> <span class="na">disabled</span><span class="o">=</span><span class="s">"disabled"</span><span class="p">&gt;</span>Guardar<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
<ul><li>Crearemos el siguiente fichero <b>css/custom.css</b> con este código:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="nt">body</span><span class="p">{</span>
    <span class="k">padding-top</span><span class="p">:</span> <span class="mi">65</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">img</span><span class="p">{</span>
    <span class="k">height</span><span class="p">:</span><span class="mi">140</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span><span class="mi">140</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p><br>
</p>
<ul><li>Crearemos el siguiente fichero <b>js/nuevoproducto.js</b> con este código:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
 <span class="p">{</span>
    <span class="c1">// Inicializar la base de datos</span>
    <span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">apiKey</span><span class="o">:</span> <span class="s2">"AIzaSyANBMwjLUMhYwq2CDywa0Z47G2E3aJQ3ex"</span><span class="p">,</span>
        <span class="nx">authDomain</span><span class="o">:</span> <span class="s2">"veigapp.firebaseapp.com"</span><span class="p">,</span>
        <span class="nx">databaseURL</span><span class="o">:</span> <span class="s2">"https://veigapp.firebaseio.com"</span><span class="p">,</span>
        <span class="nx">projectId</span><span class="o">:</span> <span class="s2">"firebase-veigapp"</span><span class="p">,</span>
        <span class="nx">storageBucket</span><span class="o">:</span> <span class="s2">"firebase-veigapp.appspot.com"</span><span class="p">,</span>
        <span class="nx">messagingSenderId</span><span class="o">:</span> <span class="s2">"841479533091"</span>
    <span class="p">};</span>
    <span class="nx">firebase</span><span class="p">.</span><span class="nx">initializeApp</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">database</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">database</span><span class="p">();</span>

    <span class="kd">var</span> <span class="nx">articulo</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">descripcion</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">precio</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">imagen</span><span class="p">;</span>

    <span class="nx">$</span><span class="p">(</span><span class="s2">"#imagen"</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">descriptor</span><span class="o">=</span><span class="k">new</span> <span class="nx">FileReader</span><span class="p">();</span>
        <span class="nx">descriptor</span><span class="p">.</span><span class="nx">readAsDataURL</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

        <span class="nx">descriptor</span><span class="p">.</span><span class="nx">onloadend</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="nx">imagen</span><span class="o">=</span><span class="nx">descriptor</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"#previsualizacion"</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span><span class="nx">imagen</span><span class="p">);</span>
        <span class="p">};</span>
    <span class="p">});</span>


    <span class="nx">$</span><span class="p">(</span><span class="s2">"#formularioAlta"</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">articulo</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#articulo"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="nx">descripcion</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#descripcion"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="nx">precio</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#precio"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">articulo</span> <span class="o">&amp;&amp;</span> <span class="nx">descripcion</span> <span class="o">&amp;&amp;</span> <span class="nx">precio</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonGuardar"</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">,</span><span class="kc">false</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonGuardar"</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">,</span><span class="kc">true</span><span class="p">);</span>
        <span class="p">}</span>

    <span class="p">});</span>


    <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonGuardar"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">articulo</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#articulo"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="nx">descripcion</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#descripcion"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="nx">precio</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#precio"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">imagen</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">imagen</span><span class="o">=</span><span class="s2">"NONE"</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// Indicamos que la referencia base de nuestra base de datos es productos (algo así como el padre)</span>
        <span class="c1">// del que colgarán el resto de nodos hijos.</span>
        <span class="cm">/*</span>
<span class="cm">        var usersRef = new Firebase('https://samplechat.firebaseio-demo.com/users');</span>
<span class="cm">        var fredRef = usersRef.child('fred');</span>
<span class="cm">        var fredFirstNameRef = fredRef.child('name/first');</span>
<span class="cm">        */</span>
        <span class="kd">var</span> <span class="nx">referencia</span><span class="o">=</span><span class="nx">database</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s2">"productos"</span><span class="p">);</span>


        <span class="c1">// De la siguiente forma el método sobreescribe los datos</span>
    <span class="cm">/*</span>
<span class="cm">        referencia.set(</span>
<span class="cm">        {</span>
<span class="cm">            articulo: articulo,</span>
<span class="cm">            descripcion: descripcion,</span>
<span class="cm">            precio: precio,</span>
<span class="cm">            imagen: imagen</span>
<span class="cm">        });</span>
<span class="cm">        */</span>

        <span class="c1">// Ahora estamos poniendo el articulo como clave en la colección</span>
        <span class="c1">// De esta manera podremos añadir nuevos articulos o actualizar uno ya existente.</span>

    <span class="cm">/*</span>
<span class="cm">        referencia.child(articulo).set(</span>
<span class="cm">        {</span>
<span class="cm">            descripcion: descripcion,</span>
<span class="cm">            precio: precio,</span>
<span class="cm">            imagen: imagen</span>
<span class="cm">        });</span>
<span class="cm">        */</span>

        <span class="c1">// Si queremos permitir que hayas artículos con nombres duplicados entonces tendremos</span>
        <span class="c1">// que decirle a Firebase que utilice otra clave en lugar del nombre del articulo.</span>
        <span class="c1">// Usaremos el método push en lugar de set</span>
        <span class="nx">referencia</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="nx">articulo</span><span class="o">:</span> <span class="nx">articulo</span><span class="p">,</span>
            <span class="nx">descripcion</span><span class="o">:</span> <span class="nx">descripcion</span><span class="p">,</span>
            <span class="nx">precio</span><span class="o">:</span> <span class="nx">precio</span><span class="p">,</span>
            <span class="nx">imagen</span><span class="o">:</span> <span class="nx">imagen</span>
        <span class="p">},</span><span class="kd">function</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'El alta se ha realizado correctamente'</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">});</span>

<span class="p">});</span>
</pre></div>
<ul><li>Aspecto de la base de datos en <b>Firebase</b> después de añadir <b>3 productos</b> desde <b>nuevoproducto.html</b>:</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-productos-nuevos.jpg" class="image"><img alt="Firebase-productos-nuevos.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-productos-nuevos.jpg" width="963" height="821"></a>
<br><br>
</p>
<h2><span class="mw-headline" id="Recuperar_datos_desde_Firebase">Recuperar datos desde Firebase</span></h2>
<ul><li>Cómo <b>recuperar datos desde Firebase</b> para hacer un <b>listado</b> de Artículos en Venta.</li></ul>
<ul><li>Crear un fichero <b>index.html</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">"es"</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"viewport"</span> <span class="na">content</span><span class="o">=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"css/custom.css"</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://www.gstatic.com/firebasejs/3.7.5/firebase.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"js/index.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Gestión de Productos con Firebase<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">class</span><span class="o">=</span><span class="s">"navbar navbar-inverse navbar-fixed-top"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"navbar"</span> <span class="na">class</span><span class="o">=</span><span class="s">"navbar-collapse collapse"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">"nav navbar-nav"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">"active"</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"index.html"</span> <span class="na">title</span><span class="o">=</span><span class="s">"Inicio"</span><span class="p">&gt;</span>Inicio<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"administracion.html"</span> <span class="na">title</span><span class="o">=</span><span class="s">""</span><span class="p">&gt;</span>Administracion<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"nuevoproducto.html"</span> <span class="na">title</span><span class="o">=</span><span class="s">""</span><span class="p">&gt;</span>Añadir Productos<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"container-fluid"</span> <span class="na">id</span><span class="o">=</span><span class="s">"listado"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Listado de Productos<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
<ul><li>Crear un fichero <b>js/index.js</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
 <span class="p">{</span>
    <span class="c1">// Inicializar la base de datos</span>
    <span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">apiKey</span><span class="o">:</span> <span class="s2">"AIzaSyANBMwjLUMhYwq2CDywa0Z47G2E3aJQ3ex"</span><span class="p">,</span>
        <span class="nx">authDomain</span><span class="o">:</span> <span class="s2">"veigapp.firebaseapp.com"</span><span class="p">,</span>
        <span class="nx">databaseURL</span><span class="o">:</span> <span class="s2">"https://veigapp.firebaseio.com"</span><span class="p">,</span>
        <span class="nx">projectId</span><span class="o">:</span> <span class="s2">"firebase-veigapp"</span><span class="p">,</span>
        <span class="nx">storageBucket</span><span class="o">:</span> <span class="s2">"firebase-veigapp.appspot.com"</span><span class="p">,</span>
        <span class="nx">messagingSenderId</span><span class="o">:</span> <span class="s2">"841479533091"</span>
    <span class="p">};</span>

    <span class="nx">firebase</span><span class="p">.</span><span class="nx">initializeApp</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">database</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">database</span><span class="p">();</span>

    <span class="c1">// Fijarse que la ruta de partida ahora es la colección productos:</span>
    <span class="kd">var</span> <span class="nx">referencia</span><span class="o">=</span><span class="nx">database</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s2">"productos"</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">productos</span><span class="o">=</span><span class="p">{};</span>

    <span class="cm">/*</span>
<span class="cm">    Evento: value</span>

<span class="cm">    The value event is used to read a static snapshot of the contents at a given database path,</span>
<span class="cm">    as they existed at the time of the read event. It is triggered once with the initial data and again every time the data changes.</span>
<span class="cm">    The event callback is passed a snapshot containing all data at that location, including child data. In our code example above,</span>
<span class="cm">    value returned all of the blog posts in our app. Everytime a new blog post is added, the callback function will return all of the posts.</span>
<span class="cm">    */</span>

    <span class="nx">referencia</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">datos</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">productos</span><span class="o">=</span><span class="nx">datos</span><span class="p">.</span><span class="nx">val</span><span class="p">();</span>

        <span class="c1">// Recorremos los productos y los mostramos</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">productos</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">indice</span><span class="p">,</span><span class="nx">valor</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">prevProducto</span><span class="o">=</span><span class="s1">'&lt;div class="row"&gt;&lt;div class="col-md-3 cabeceraProducto"&gt;'</span><span class="p">;</span>

            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;h2&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">articulo</span><span class="o">+</span><span class="s1">'&lt;/h2&gt;&lt;/div&gt;'</span><span class="p">;</span>

            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;&lt;div class="col-md-3 cabeceraProducto"&gt;'</span><span class="p">;</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;h2&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">precio</span><span class="o">+</span><span class="s1">'€. &lt;/h2&gt;&lt;/div&gt;'</span><span class="p">;</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;'</span><span class="p">;</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3 imagenFix"&gt;'</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">valor</span><span class="p">.</span><span class="nx">imagen</span><span class="o">==</span><span class="s1">'NONE'</span><span class="p">)</span>
                <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;img alt="Sin Fotografía"/&gt;'</span><span class="p">;</span>
            <span class="k">else</span>
                <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;img src="'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">imagen</span><span class="o">+</span><span class="s1">'"/&gt;'</span><span class="p">;</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;p&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">descripcion</span><span class="o">+</span><span class="s1">'&lt;/p&gt;'</span><span class="p">;</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row espaciador"&gt;'</span><span class="p">;</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

            <span class="nx">$</span><span class="p">(</span><span class="nx">prevProducto</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#listado'</span><span class="p">);</span>
        <span class="p">});</span>

    <span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">objetoError</span><span class="p">){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Error de lectura:'</span><span class="o">+</span><span class="nx">objetoError</span><span class="p">.</span><span class="nx">code</span><span class="p">);</span>
    <span class="p">});</span>

<span class="p">});</span>
</pre></div>
<ul><li>Editar el fichero <b>css/custom.css</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="nt">body</span><span class="p">{</span>
    <span class="k">padding-top</span><span class="p">:</span> <span class="mi">65</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">img</span><span class="p">{</span>
    <span class="k">height</span><span class="p">:</span><span class="mi">140</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span><span class="mi">140</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">cabeceraProducto</span><span class="p">{</span>
    <span class="k">border-bottom-style</span><span class="p">:</span> <span class="kc">solid</span><span class="p">;</span>
    <span class="k">border-bottom-width</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">border-bottom-color</span><span class="p">:</span> <span class="kc">grey</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="kc">black</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span><span class="kc">white</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">imagenFix</span><span class="p">{</span>
    <span class="k">min-height</span><span class="p">:</span> <span class="mi">140</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">espaciador</span><span class="p">{</span>
    <span class="k">min-height</span><span class="p">:</span> <span class="mi">30</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<ul><li><b>Aspecto</b> de la página <b>index.html</b> con el listado funcionando:</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-listado.jpg" class="image"><img alt="Firebase-listado.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-listado.jpg" width="519" height="789"></a>
<br><br>
</p>
<h2><span class="mw-headline" id="Actualizar_y_Borrar_datos_en_Firebase">Actualizar y Borrar datos en Firebase</span></h2>
<ul><li>Como podemos <b>actualizar y borrar los datos en Firebase</b>.</li>
<li>Partimos del ejemplo del <b>index.html</b> e <b>index.js</b> para crear los siguientes ficheros.</li></ul>
<ul><li>Contenido del fichero <b>administracion.html</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">"es"</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"viewport"</span> <span class="na">content</span><span class="o">=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"css/custom.css"</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://www.gstatic.com/firebasejs/3.7.5/firebase.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"js/administracion.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Listado Productos<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">class</span><span class="o">=</span><span class="s">"navbar navbar-inverse navbar-fixed-top"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"navbar"</span> <span class="na">class</span><span class="o">=</span><span class="s">"navbar-collapse collapse"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">"nav navbar-nav"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"index.html"</span> <span class="na">title</span><span class="o">=</span><span class="s">"Inicio"</span><span class="p">&gt;</span>Inicio<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">"active"</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"administracion.html"</span> <span class="na">title</span><span class="o">=</span><span class="s">""</span><span class="p">&gt;</span>Administracion<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"nuevoproducto.html"</span> <span class="na">title</span><span class="o">=</span><span class="s">""</span><span class="p">&gt;</span>Añadir Productos<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"container-fluid"</span> <span class="na">id</span><span class="o">=</span><span class="s">"listado"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Edición de Productos<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
<ul><li>Contenido del fichero <b>js/administracion.js</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Inicializar la base de datos</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">apiKey</span><span class="o">:</span> <span class="s2">"AIzaSyANBMwjLUMhYwq2CDywa0Z47G2E3aJQ3ex"</span><span class="p">,</span>
    <span class="nx">authDomain</span><span class="o">:</span> <span class="s2">"veigapp.firebaseapp.com"</span><span class="p">,</span>
    <span class="nx">databaseURL</span><span class="o">:</span> <span class="s2">"https://veigapp.firebaseio.com"</span><span class="p">,</span>
    <span class="nx">projectId</span><span class="o">:</span> <span class="s2">"firebase-veigapp"</span><span class="p">,</span>
    <span class="nx">storageBucket</span><span class="o">:</span> <span class="s2">"firebase-veigapp.appspot.com"</span><span class="p">,</span>
    <span class="nx">messagingSenderId</span><span class="o">:</span> <span class="s2">"841479533091"</span>
<span class="p">};</span>

<span class="nx">firebase</span><span class="p">.</span><span class="nx">initializeApp</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">database</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">database</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">referencia</span><span class="o">=</span><span class="nx">database</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s2">"productos"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">productos</span><span class="o">=</span><span class="p">{};</span>

<span class="cm">/*</span>
<span class="cm">Evento: value</span>

<span class="cm">The value event is used to read a static snapshot of the contents at a given database path,</span>
<span class="cm">as they existed at the time of the read event. It is triggered once with the initial data and again every time the data changes.</span>
<span class="cm">The event callback is passed a snapshot containing all data at that location, including child data. In our code example above,</span>
<span class="cm">value returned all of the blog posts in our app. Everytime a new blog post is added, the callback function will return all of the posts.</span>
<span class="cm">*/</span>

<span class="nx">referencia</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">datos</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Eliminamos el contenido del listado para actualizarlo.</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#listado div.row"</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>

    <span class="nx">productos</span><span class="o">=</span><span class="nx">datos</span><span class="p">.</span><span class="nx">val</span><span class="p">();</span>

    <span class="c1">// Recorremos los productos y los mostramos</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">productos</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">indice</span><span class="p">,</span><span class="nx">valor</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">prevProducto</span><span class="o">=</span><span class="s1">'&lt;div class="row" id="'</span><span class="o">+</span><span class="nx">indice</span><span class="o">+</span><span class="s1">'"&gt;&lt;div class="col-md-3 cabeceraProducto"&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;h2&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">articulo</span><span class="o">+</span><span class="s1">'&lt;/h2&gt;&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;&lt;div class="col-md-3 cabeceraProducto"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;h2&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">precio</span><span class="o">+</span><span class="s1">' €.&lt;/h2&gt;&lt;/div&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3 imagenFix"&gt;'</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">valor</span><span class="p">.</span><span class="nx">imagen</span><span class="o">==</span><span class="s1">'NONE'</span><span class="p">)</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;img alt="Sin Fotografía"/&gt;'</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;img src="'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">imagen</span><span class="o">+</span><span class="s1">'"/&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;p&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">descripcion</span><span class="o">+</span><span class="s1">'&lt;/p&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;button type="button" class="btn btn-warning" onclick="editarProducto(\''</span><span class="o">+</span><span class="nx">indice</span><span class="o">+</span><span class="s1">'\')"&gt;Editar Producto&lt;/button&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;button type="button" class="btn btn-danger" onclick="borrarProducto(\''</span><span class="o">+</span><span class="nx">indice</span><span class="o">+</span><span class="s1">'\')"&gt;Borrar Producto&lt;/button&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row espaciador"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">$</span><span class="p">(</span><span class="nx">prevProducto</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#listado'</span><span class="p">);</span>
    <span class="p">});</span>

<span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">objetoError</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Error de lectura:'</span><span class="o">+</span><span class="nx">objetoError</span><span class="p">.</span><span class="nx">code</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
<h3><span id="Actualización_de_Datos"></span><span class="mw-headline" id="Actualizaci.C3.B3n_de_Datos">Actualización de Datos</span></h3>
<ul><li>Primero añadiremos en el fichero <b>js/administracion.js</b> la <b>función</b> para realizar la edición de un producto:</li>
<li>Contenido del fichero <b>js/administracion.js</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Inicializar la base de datos</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">apiKey</span><span class="o">:</span> <span class="s2">"AIzaSyANBMwjLUMhYwq2CDywa0Z47G2E3aJQ3ex"</span><span class="p">,</span>
    <span class="nx">authDomain</span><span class="o">:</span> <span class="s2">"veigapp.firebaseapp.com"</span><span class="p">,</span>
    <span class="nx">databaseURL</span><span class="o">:</span> <span class="s2">"https://veigapp.firebaseio.com"</span><span class="p">,</span>
    <span class="nx">projectId</span><span class="o">:</span> <span class="s2">"firebase-veigapp"</span><span class="p">,</span>
    <span class="nx">storageBucket</span><span class="o">:</span> <span class="s2">"firebase-veigapp.appspot.com"</span><span class="p">,</span>
    <span class="nx">messagingSenderId</span><span class="o">:</span> <span class="s2">"841479533091"</span>
<span class="p">};</span>

<span class="nx">firebase</span><span class="p">.</span><span class="nx">initializeApp</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">database</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">database</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">referencia</span><span class="o">=</span><span class="nx">database</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s2">"productos"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">productos</span><span class="o">=</span><span class="p">{};</span>

<span class="cm">/*</span>
<span class="cm">Evento: value</span>

<span class="cm">The value event is used to read a static snapshot of the contents at a given database path,</span>
<span class="cm">as they existed at the time of the read event. It is triggered once with the initial data and again every time the data changes.</span>
<span class="cm">The event callback is passed a snapshot containing all data at that location, including child data. In our code example above,</span>
<span class="cm">value returned all of the blog posts in our app. Everytime a new blog post is added, the callback function will return all of the posts.</span>
<span class="cm">*/</span>

<span class="nx">referencia</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">datos</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Eliminamos el contenido del listado para actualizarlo.</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#listado div.row"</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>

    <span class="nx">productos</span><span class="o">=</span><span class="nx">datos</span><span class="p">.</span><span class="nx">val</span><span class="p">();</span>

    <span class="c1">// Recorremos los productos y los mostramos</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">productos</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">indice</span><span class="p">,</span><span class="nx">valor</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">prevProducto</span><span class="o">=</span><span class="s1">'&lt;div class="row" id="'</span><span class="o">+</span><span class="nx">indice</span><span class="o">+</span><span class="s1">'"&gt;&lt;div class="col-md-3 cabeceraProducto"&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;h2&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">articulo</span><span class="o">+</span><span class="s1">'&lt;/h2&gt;&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;&lt;div class="col-md-3 cabeceraProducto"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;h2&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">precio</span><span class="o">+</span><span class="s1">' €.&lt;/h2&gt;&lt;/div&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3 imagenFix"&gt;'</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">valor</span><span class="p">.</span><span class="nx">imagen</span><span class="o">==</span><span class="s1">'NONE'</span><span class="p">)</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;img alt="Sin Fotografía"/&gt;'</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;img src="'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">imagen</span><span class="o">+</span><span class="s1">'"/&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;p&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">descripcion</span><span class="o">+</span><span class="s1">'&lt;/p&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;button type="button" class="btn btn-warning" onclick="editarProducto(\''</span><span class="o">+</span><span class="nx">indice</span><span class="o">+</span><span class="s1">'\')"&gt;Editar Producto&lt;/button&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;button type="button" class="btn btn-danger" onclick="borrarProducto(\''</span><span class="o">+</span><span class="nx">indice</span><span class="o">+</span><span class="s1">'\')"&gt;Borrar Producto&lt;/button&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row espaciador"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">$</span><span class="p">(</span><span class="nx">prevProducto</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#listado'</span><span class="p">);</span>
    <span class="p">});</span>

<span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">objetoError</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Error de lectura:'</span><span class="o">+</span><span class="nx">objetoError</span><span class="p">.</span><span class="nx">code</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">editarProducto</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Para pasar el ID a otro proceso lo hacemos a través de window.name</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span> <span class="nx">id</span><span class="p">;</span>

    <span class="c1">// Cargamos la página editarproducto.html</span>
    <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'editarproducto.html'</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<ul><li>Partiendo de una <b>copia</b> del fichero <b>nuevoproducto.html</b> vamos a crear <b>editarproducto.html</b>:</li></ul>
<ul><li>Contenido del fichero <b>editarproducto.html</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">"es"</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"viewport"</span> <span class="na">content</span><span class="o">=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"css/custom.css"</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://www.gstatic.com/firebasejs/3.7.5/firebase.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"js/editarproducto.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Edición de Productos<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">class</span><span class="o">=</span><span class="s">"navbar navbar-inverse navbar-fixed-top"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"navbar"</span> <span class="na">class</span><span class="o">=</span><span class="s">"navbar-collapse collapse"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">"nav navbar-nav"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"index.html"</span> <span class="na">title</span><span class="o">=</span><span class="s">"Inicio"</span><span class="p">&gt;</span>Inicio<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">"active"</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"administracion.html"</span> <span class="na">title</span><span class="o">=</span><span class="s">""</span><span class="p">&gt;</span>Administracion<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"nuevoproducto.html"</span> <span class="na">title</span><span class="o">=</span><span class="s">""</span><span class="p">&gt;</span>Añadir Productos<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"container-fluid"</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">form</span> <span class="na">id</span><span class="o">=</span><span class="s">"formularioEdicion"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"articulo"</span><span class="p">&gt;</span>Articulo<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-control"</span> <span class="na">id</span><span class="o">=</span><span class="s">"articulo"</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"descripcion"</span><span class="p">&gt;</span>Descripción<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">textarea</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-control"</span> <span class="na">id</span><span class="o">=</span><span class="s">"descripcion"</span> <span class="na">rows</span><span class="o">=</span><span class="s">"3"</span><span class="p">&gt;&lt;/</span><span class="nt">textarea</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"precio"</span><span class="p">&gt;</span>Precio<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-control"</span> <span class="na">id</span><span class="o">=</span><span class="s">"precio"</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"imagen"</span><span class="p">&gt;</span>Elegir Imagen<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"file"</span> <span class="na">id</span><span class="o">=</span><span class="s">"imagen"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"help-block"</span><span class="p">&gt;</span>Elija una imagen para este artículo<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">img</span> <span class="na">id</span><span class="o">=</span><span class="s">"previsualizacion"</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-primary"</span> <span class="na">id</span><span class="o">=</span><span class="s">"botonActualizar"</span><span class="p">&gt;</span>Actualizar Producto<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
<ul><li>Contenido del fichero <b>js/editarproducto.js</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Inicializar la base de datos</span>
    <span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">apiKey</span><span class="o">:</span> <span class="s2">"AIzaSyANBMwjLUMhYwq2CDywa0Z47G2E3aJQ3ex"</span><span class="p">,</span>
        <span class="nx">authDomain</span><span class="o">:</span> <span class="s2">"veigapp.firebaseapp.com"</span><span class="p">,</span>
        <span class="nx">databaseURL</span><span class="o">:</span> <span class="s2">"https://veigapp.firebaseio.com"</span><span class="p">,</span>
        <span class="nx">projectId</span><span class="o">:</span> <span class="s2">"firebase-veigapp"</span><span class="p">,</span>
        <span class="nx">storageBucket</span><span class="o">:</span> <span class="s2">"firebase-veigapp.appspot.com"</span><span class="p">,</span>
        <span class="nx">messagingSenderId</span><span class="o">:</span> <span class="s2">"841479533091"</span>
    <span class="p">};</span>

    <span class="nx">firebase</span><span class="p">.</span><span class="nx">initializeApp</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">database</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">database</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">referencia</span><span class="o">=</span><span class="nx">database</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s2">"productos"</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">productoId</span><span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
    <span class="c1">//console.log(productoId);</span>

    <span class="kd">var</span> <span class="nx">articulo</span><span class="p">,</span> <span class="nx">descripcion</span><span class="p">,</span> <span class="nx">precio</span><span class="p">,</span> <span class="nx">imagen</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">producto</span><span class="o">=</span><span class="p">{};</span>

    <span class="c1">// Buscamos el artículo.</span>
    <span class="nx">referencia</span><span class="p">.</span><span class="nx">child</span><span class="p">(</span><span class="nx">productoId</span><span class="p">).</span><span class="nx">once</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">datos</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">producto</span><span class="o">=</span><span class="nx">datos</span><span class="p">.</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">articulo</span><span class="o">=</span> <span class="nx">producto</span><span class="p">.</span><span class="nx">articulo</span><span class="p">;</span>
        <span class="nx">descripcion</span><span class="o">=</span> <span class="nx">producto</span><span class="p">.</span><span class="nx">descripcion</span><span class="p">;</span>
        <span class="nx">precio</span><span class="o">=</span><span class="nx">producto</span><span class="p">.</span><span class="nx">precio</span><span class="p">;</span>
        <span class="nx">imagenEdicion</span><span class="o">=</span><span class="nx">producto</span><span class="p">.</span><span class="nx">imagen</span><span class="p">;</span>

        <span class="nx">$</span><span class="p">(</span><span class="s1">'#articulo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">articulo</span><span class="p">);</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">'#descripcion'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">descripcion</span><span class="p">);</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">'#precio'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">precio</span><span class="p">);</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">'#previsualizacion'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'src'</span><span class="p">,</span><span class="nx">imagenEdicion</span><span class="p">);</span>
    <span class="p">});</span>


    <span class="nx">$</span><span class="p">(</span><span class="s2">"#imagen"</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">descriptor</span><span class="o">=</span><span class="k">new</span> <span class="nx">FileReader</span><span class="p">();</span>
        <span class="nx">descriptor</span><span class="p">.</span><span class="nx">readAsDataURL</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

        <span class="nx">descriptor</span><span class="p">.</span><span class="nx">onloadend</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="nx">imagenEdicion</span><span class="o">=</span><span class="nx">descriptor</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"#previsualizacion"</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span><span class="nx">imagenEdicion</span><span class="p">);</span>
        <span class="p">};</span>
    <span class="p">});</span>

    <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonActualizar"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">articulo</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#articulo"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="kd">var</span> <span class="nx">descripcion</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#descripcion"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="kd">var</span> <span class="nx">precio</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#precio"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="kd">var</span> <span class="nx">imagen</span><span class="o">=</span><span class="nx">imagenEdicion</span><span class="p">;</span>

        <span class="c1">// Guardamos los datos en referencia</span>
        <span class="nx">referencia</span><span class="p">.</span><span class="nx">child</span><span class="p">(</span><span class="nx">productoId</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="nx">articulo</span><span class="o">:</span> <span class="nx">articulo</span><span class="p">,</span>
            <span class="nx">descripcion</span><span class="o">:</span> <span class="nx">descripcion</span><span class="p">,</span>
            <span class="nx">precio</span><span class="o">:</span> <span class="nx">precio</span><span class="p">,</span>
            <span class="nx">imagen</span><span class="o">:</span> <span class="nx">imagen</span><span class="p">,</span>
        <span class="p">},</span> <span class="nx">alFinalizar</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">alFinalizar</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'Ha habido problemas al realizar la operación: '</span><span class="o">+</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span><span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'Operación realizada con éxito !'</span><span class="p">);</span>
            <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'administracion.html'</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
<h3><span class="mw-headline" id="Borrado_de_Datos">Borrado de Datos</span></h3>
<ul><li>La parte de borrado se completa programando la función <b>borrarProducto</b> dentro del fichero <b>js/administracion.js</b>:</li>
<li>Contenido del fichero <b>js/administracion.js</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Inicializar la base de datos</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">apiKey</span><span class="o">:</span> <span class="s2">"AIzaSyANBMwjLUMhYwq2CDywa0Z47G2E3aJQ3ex"</span><span class="p">,</span>
    <span class="nx">authDomain</span><span class="o">:</span> <span class="s2">"veigapp.firebaseapp.com"</span><span class="p">,</span>
    <span class="nx">databaseURL</span><span class="o">:</span> <span class="s2">"https://veigapp.firebaseio.com"</span><span class="p">,</span>
    <span class="nx">projectId</span><span class="o">:</span> <span class="s2">"firebase-veigapp"</span><span class="p">,</span>
    <span class="nx">storageBucket</span><span class="o">:</span> <span class="s2">"firebase-veigapp.appspot.com"</span><span class="p">,</span>
    <span class="nx">messagingSenderId</span><span class="o">:</span> <span class="s2">"841479533091"</span>
<span class="p">};</span>

<span class="nx">firebase</span><span class="p">.</span><span class="nx">initializeApp</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">database</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">database</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">referencia</span><span class="o">=</span><span class="nx">database</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s2">"productos"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">productos</span><span class="o">=</span><span class="p">{};</span>

<span class="cm">/*</span>
<span class="cm">Evento: value</span>

<span class="cm">The value event is used to read a static snapshot of the contents at a given database path,</span>
<span class="cm">as they existed at the time of the read event. It is triggered once with the initial data and again every time the data changes.</span>
<span class="cm">The event callback is passed a snapshot containing all data at that location, including child data. In our code example above,</span>
<span class="cm">value returned all of the blog posts in our app. Everytime a new blog post is added, the callback function will return all of the posts.</span>
<span class="cm">*/</span>

<span class="nx">referencia</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">datos</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Eliminamos el contenido del listado para actualizarlo.</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#listado div.row"</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>

    <span class="nx">productos</span><span class="o">=</span><span class="nx">datos</span><span class="p">.</span><span class="nx">val</span><span class="p">();</span>

    <span class="c1">// Recorremos los productos y los mostramos</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">productos</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">indice</span><span class="p">,</span><span class="nx">valor</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">prevProducto</span><span class="o">=</span><span class="s1">'&lt;div class="row" id="'</span><span class="o">+</span><span class="nx">indice</span><span class="o">+</span><span class="s1">'"&gt;&lt;div class="col-md-3 cabeceraProducto"&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;h2&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">articulo</span><span class="o">+</span><span class="s1">'&lt;/h2&gt;&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;&lt;div class="col-md-3 cabeceraProducto"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;h2&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">precio</span><span class="o">+</span><span class="s1">' €.&lt;/h2&gt;&lt;/div&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3 imagenFix"&gt;'</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">valor</span><span class="p">.</span><span class="nx">imagen</span><span class="o">==</span><span class="s1">'NONE'</span><span class="p">)</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;img alt="Sin Fotografía"/&gt;'</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;img src="'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">imagen</span><span class="o">+</span><span class="s1">'"/&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;p&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">descripcion</span><span class="o">+</span><span class="s1">'&lt;/p&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;button type="button" class="btn btn-warning" onclick="editarProducto(\''</span><span class="o">+</span><span class="nx">indice</span><span class="o">+</span><span class="s1">'\')"&gt;Editar Producto&lt;/button&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;button type="button" class="btn btn-danger" onclick="borrarProducto(\''</span><span class="o">+</span><span class="nx">indice</span><span class="o">+</span><span class="s1">'\')"&gt;Borrar Producto&lt;/button&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row espaciador"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">$</span><span class="p">(</span><span class="nx">prevProducto</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#listado'</span><span class="p">);</span>
    <span class="p">});</span>

<span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">objetoError</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Error de lectura:'</span><span class="o">+</span><span class="nx">objetoError</span><span class="p">.</span><span class="nx">code</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">editarProducto</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Para pasar el ID a otro proceso lo hacemos a través de window.name</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span> <span class="nx">id</span><span class="p">;</span>

    <span class="c1">// Cargamos la página editarproducto.html</span>
    <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'editarproducto.html'</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">borrarProducto</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">confirm</span><span class="p">(</span><span class="s2">"¿Está seguro/a de que quiere borrar este artículo?"</span><span class="p">)</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">referencia</span><span class="p">.</span><span class="nx">child</span><span class="p">(</span><span class="nx">id</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<h2><span id="Autenticación_en_Firebase"></span><span class="mw-headline" id="Autenticaci.C3.B3n_en_Firebase">Autenticación en Firebase</span></h2>
<ul><li>Vamos a dar un poco de <b>seguridad</b> a nuestra <b>aplicación</b> en <b>Firebase</b> para incorporar autenticación a los datos.</li>
<li><b>Firebase</b> nos permite usar <b>diferentes modos de autenticación</b> <b>E-mail, facebook, twitter</b>, etc.. para acceder a las aplicaciones:</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-autenticacion-modos.jpg" class="image"><img alt="Firebase-autenticacion-modos.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-autenticacion-modos.jpg" width="1221" height="847"></a>
</p>
<ul><li>Vamos a probar la <b>autenticación</b> a través de <b>E-mail y Password</b>.</li>
<li>Para ello <b>activaremos</b> dicha opción en el <b>dashboard</b> de Firebase.</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-autenticacion-email-password.jpg" class="image"><img alt="Firebase-autenticacion-email-password.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-autenticacion-email-password.jpg" width="992" height="612"></a>
</p>
<h3><span class="mw-headline" id="Registro">Registro</span></h3>
<ul><li>Creamos la página <b>registro.html</b>:</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Registro-usuarios.jpg" class="image"><img alt="Registro-usuarios.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Registro-usuarios.jpg" width="304" height="306"></a>
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">"es"</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"viewport"</span> <span class="na">content</span><span class="o">=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"css/custom.css"</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://www.gstatic.com/firebasejs/3.7.5/firebase.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"js/registro.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Registro de Usuarios<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"container-fluid"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Registro de Usuarios<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">form</span> <span class="na">id</span><span class="o">=</span><span class="s">"formularioRegistro"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"email"</span><span class="p">&gt;</span>Dirección E-mail: <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-control"</span> <span class="na">id</span><span class="o">=</span><span class="s">"email"</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">"Introduzca su e-mail"</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"password"</span><span class="p">&gt;</span>Contraseña: <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"password"</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-control"</span> <span class="na">id</span><span class="o">=</span><span class="s">"password"</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">"Introduzca contraseña"</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"password2"</span><span class="p">&gt;</span>Confirmar Contraseña: <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"password"</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-control"</span> <span class="na">id</span><span class="o">=</span><span class="s">"password2"</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">"Confirme contraseña"</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-primary"</span> <span class="na">id</span><span class="o">=</span><span class="s">"botonRegistro"</span><span class="p">&gt;</span>Registrar<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-warning"</span> <span class="na">id</span><span class="o">=</span><span class="s">"botonCancelar"</span><span class="p">&gt;</span>Cancelar<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>

        <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
<ul><li>Crearemos la página <b>js/registro.js</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Inicializar la base de datos</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">apiKey</span><span class="o">:</span> <span class="s2">"AIzaSyANBMwjLUMhYwq2CDywa0Z47G2E3aJQ3ex"</span><span class="p">,</span>
    <span class="nx">authDomain</span><span class="o">:</span> <span class="s2">"veigapp.firebaseapp.com"</span><span class="p">,</span>
    <span class="nx">databaseURL</span><span class="o">:</span> <span class="s2">"https://veigapp.firebaseio.com"</span><span class="p">,</span>
    <span class="nx">projectId</span><span class="o">:</span> <span class="s2">"firebase-veigapp"</span><span class="p">,</span>
    <span class="nx">storageBucket</span><span class="o">:</span> <span class="s2">"firebase-veigapp.appspot.com"</span><span class="p">,</span>
    <span class="nx">messagingSenderId</span><span class="o">:</span> <span class="s2">"841479533091"</span>
<span class="p">};</span>

<span class="nx">firebase</span><span class="p">.</span><span class="nx">initializeApp</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">email</span><span class="p">,</span><span class="nx">password</span><span class="p">,</span><span class="nx">passwordConfirm</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">exito</span><span class="p">()</span>
<span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="s1">'Se ha creado la cuenta de usuario correctamente. '</span><span class="p">);</span>
  <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'index.html'</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">alFinalizar</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// console.log(error);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="o">!==</span><span class="s1">'undefined'</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Códigos de error:</span>
        <span class="c1">// auth/invalid-email</span>
        <span class="c1">// auth/weak-password</span>
        <span class="c1">// auth/email-already-in-use</span>
        <span class="k">switch</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">case</span> <span class="s1">'auth/email-already-in-use'</span><span class="o">:</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'ERROR: No se puede crear la nueva cuenta de usuario, por que el e-mail ya está en uso !'</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="s1">'auth/invalid-email'</span><span class="o">:</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'ERROR: El e-mail facilitado no es un e-mail correcto.'</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
            <span class="k">default</span><span class="o">:</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'Se ha producido un error al crear el usuario.\n\n'</span><span class="o">+</span><span class="nx">error</span><span class="o">+</span><span class="s1">'\n'</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Programamos el click de los botones del formulario:</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonRegistro"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">email</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#email"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="nx">password</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#password"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="nx">passwordConfirm</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#password2"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">password</span> <span class="o">!=</span> <span class="nx">passwordConfirm</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s2">"Error: Las contraseñas son distintas!"</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span>
            <span class="nx">firebase</span><span class="p">.</span><span class="nx">auth</span><span class="p">().</span><span class="nx">createUserWithEmailAndPassword</span><span class="p">(</span><span class="nx">email</span><span class="p">,</span><span class="nx">password</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">exito</span><span class="p">).</span><span class="k">catch</span><span class="p">(</span><span class="nx">alFinalizar</span><span class="p">);</span>
    <span class="p">});</span>


    <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonCancelar"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'index.html'</span><span class="p">);</span>
    <span class="p">});</span>

<span class="p">});</span>
</pre></div>
<h3><span class="mw-headline" id="Login">Login</span></h3>
<ul><li>Creamos la página <b>login.html</b>:</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Login-usuarios.jpg" class="image"><img alt="Login-usuarios.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Login-usuarios.jpg" width="435" height="242"></a>
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">"es"</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"viewport"</span> <span class="na">content</span><span class="o">=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"css/custom.css"</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://www.gstatic.com/firebasejs/3.7.5/firebase.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"js/login.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Login de Usuarios<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"container-fluid"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Login/registro de Usuarios<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"spinner"</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">form</span> <span class="na">id</span><span class="o">=</span><span class="s">"formularioRegistro"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"email"</span><span class="p">&gt;</span>Dirección E-mail: <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"text"</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-control"</span> <span class="na">id</span><span class="o">=</span><span class="s">"email"</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">"Introduzca su e-mail"</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"password"</span><span class="p">&gt;</span>Contraseña: <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"password"</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-control"</span> <span class="na">id</span><span class="o">=</span><span class="s">"password"</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">"Introduzca contraseña"</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-success"</span> <span class="na">id</span><span class="o">=</span><span class="s">"botonLogin"</span><span class="p">&gt;</span>Login<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-primary"</span> <span class="na">id</span><span class="o">=</span><span class="s">"botonRegistro"</span><span class="p">&gt;</span>Registro<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-warning"</span> <span class="na">id</span><span class="o">=</span><span class="s">"botonCancelar"</span><span class="p">&gt;</span>Cancelar<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
<ul><li>Crearemos la página <b>js/login.js</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Inicializar la base de datos</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">apiKey</span><span class="o">:</span> <span class="s2">"AIzaSyANBMwjLUMhYwq2CDywa0Z47G2E3aJQ3ex"</span><span class="p">,</span>
    <span class="nx">authDomain</span><span class="o">:</span> <span class="s2">"veigapp.firebaseapp.com"</span><span class="p">,</span>
    <span class="nx">databaseURL</span><span class="o">:</span> <span class="s2">"https://veigapp.firebaseio.com"</span><span class="p">,</span>
    <span class="nx">projectId</span><span class="o">:</span> <span class="s2">"firebase-veigapp"</span><span class="p">,</span>
    <span class="nx">storageBucket</span><span class="o">:</span> <span class="s2">"firebase-veigapp.appspot.com"</span><span class="p">,</span>
    <span class="nx">messagingSenderId</span><span class="o">:</span> <span class="s2">"841479533091"</span>
<span class="p">};</span>

<span class="nx">firebase</span><span class="p">.</span><span class="nx">initializeApp</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">exito</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#spinner"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>
    <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'index.html'</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonLogin"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">"#spinner"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">"&lt;img src='img/spinner.gif' style='width:25px; height:25px;'/&gt;"</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">email</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#email"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="kd">var</span> <span class="nx">password</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#password"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">firebase</span><span class="p">.</span><span class="nx">auth</span><span class="p">().</span><span class="nx">signInWithEmailAndPassword</span><span class="p">(</span><span class="nx">email</span><span class="p">,</span> <span class="nx">password</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">exito</span><span class="p">).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"#spinner"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>
            <span class="c1">//console.log(error);</span>
            <span class="nx">alert</span> <span class="p">(</span><span class="s2">"Error detectado:\n\n"</span><span class="o">+</span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">});</span>

    <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonRegistro"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'registro.html'</span><span class="p">);</span>
    <span class="p">});</span>


    <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonCancelar"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'index.html'</span><span class="p">);</span>
    <span class="p">});</span>

<span class="p">});</span>
</pre></div>
<h3><span id="Administración_(usuarios_autenticados)"></span><span class="mw-headline" id="Administraci.C3.B3n_.28usuarios_autenticados.29">Administración (usuarios autenticados)</span></h3>
<ul><li>Editamos la página <b>js/administracion.js</b> para tener en cuenta el usuario logueado:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Inicializar la base de datos</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">apiKey</span><span class="o">:</span> <span class="s2">"AIzaSyANBMwjLUMhYwq2CDywa0Z47G2E3aJQ3ex"</span><span class="p">,</span>
    <span class="nx">authDomain</span><span class="o">:</span> <span class="s2">"veigapp.firebaseapp.com"</span><span class="p">,</span>
    <span class="nx">databaseURL</span><span class="o">:</span> <span class="s2">"https://veigapp.firebaseio.com"</span><span class="p">,</span>
    <span class="nx">projectId</span><span class="o">:</span> <span class="s2">"firebase-veigapp"</span><span class="p">,</span>
    <span class="nx">storageBucket</span><span class="o">:</span> <span class="s2">"firebase-veigapp.appspot.com"</span><span class="p">,</span>
    <span class="nx">messagingSenderId</span><span class="o">:</span> <span class="s2">"841479533091"</span>
<span class="p">};</span>

<span class="nx">firebase</span><span class="p">.</span><span class="nx">initializeApp</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">database</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">database</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">referencia</span><span class="o">=</span><span class="nx">database</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s2">"productos"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">productos</span><span class="o">=</span><span class="p">{};</span>

<span class="c1">// Chequeamos la autenticación antes de acceder al resto de contenido de este fichero.</span>
<span class="nx">firebase</span><span class="p">.</span><span class="nx">auth</span><span class="p">().</span><span class="nx">onAuthStateChanged</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">user</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Usuario: '</span><span class="o">+</span><span class="nx">user</span><span class="p">.</span><span class="nx">uid</span><span class="o">+</span><span class="s1">' está logueado con '</span><span class="o">+</span><span class="nx">user</span><span class="p">.</span><span class="nx">providerData</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">providerId</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">logueado</span><span class="o">=</span><span class="s1">'&lt;li&gt;&lt;p class="navbar-text navbar-center"&gt;'</span><span class="o">+</span><span class="nx">user</span><span class="p">.</span><span class="nx">email</span><span class="o">+</span><span class="s1">'&lt;/p&gt;&lt;/li&gt;'</span><span class="p">;</span>
   <span class="nx">logueado</span><span class="o">+=</span><span class="s1">'&lt;li&gt;&lt;button type="button" class="btn btn-warning navbar-btn" id="botonLogout"&gt;Salir&lt;/button&gt;&lt;/li&gt;'</span><span class="p">;</span>

   <span class="nx">$</span><span class="p">(</span><span class="nx">logueado</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'.nav'</span><span class="p">);</span>
   <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonLogout"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">desconectar</span><span class="p">);</span>

<span class="p">}</span> <span class="k">else</span>
<span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Usuario no logueado'</span><span class="p">);</span>
    <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'login.html'</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">desconectar</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nx">firebase</span><span class="p">.</span><span class="nx">auth</span><span class="p">().</span><span class="nx">signOut</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
       <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'index.html'</span><span class="p">);</span>
   <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s2">"Error al intentar desconectarse."</span><span class="p">);</span>
  <span class="p">});</span>

<span class="p">}</span>


<span class="cm">/*</span>
<span class="cm">Evento: value</span>

<span class="cm">The value event is used to read a static snapshot of the contents at a given database path,</span>
<span class="cm">as they existed at the time of the read event. It is triggered once with the initial data and again every time the data changes.</span>
<span class="cm">The event callback is passed a snapshot containing all data at that location, including child data. In our code example above,</span>
<span class="cm">value returned all of the blog posts in our app. Everytime a new blog post is added, the callback function will return all of the posts.</span>
<span class="cm">*/</span>

<span class="nx">referencia</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">datos</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Eliminamos el contenido del listado para actualizarlo.</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#listado div.row"</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>

    <span class="nx">productos</span><span class="o">=</span><span class="nx">datos</span><span class="p">.</span><span class="nx">val</span><span class="p">();</span>

    <span class="c1">// Recorremos los productos y los mostramos</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">productos</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">indice</span><span class="p">,</span><span class="nx">valor</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">prevProducto</span><span class="o">=</span><span class="s1">'&lt;div class="row" id="'</span><span class="o">+</span><span class="nx">indice</span><span class="o">+</span><span class="s1">'"&gt;&lt;div class="col-md-3 cabeceraProducto"&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;h2&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">articulo</span><span class="o">+</span><span class="s1">'&lt;/h2&gt;&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;&lt;div class="col-md-3 cabeceraProducto"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;h2&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">precio</span><span class="o">+</span><span class="s1">' €.&lt;/h2&gt;&lt;/div&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3 imagenFix"&gt;'</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">valor</span><span class="p">.</span><span class="nx">imagen</span><span class="o">==</span><span class="s1">'NONE'</span><span class="p">)</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;img alt="Sin Fotografía"/&gt;'</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;img src="'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">imagen</span><span class="o">+</span><span class="s1">'"/&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;p&gt;'</span><span class="o">+</span><span class="nx">valor</span><span class="p">.</span><span class="nx">descripcion</span><span class="o">+</span><span class="s1">'&lt;/p&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row"&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;button type="button" class="btn btn-warning" onclick="editarProducto(\''</span><span class="o">+</span><span class="nx">indice</span><span class="o">+</span><span class="s1">'\')"&gt;Editar Producto&lt;/button&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="col-md-3"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;button type="button" class="btn btn-danger" onclick="borrarProducto(\''</span><span class="o">+</span><span class="nx">indice</span><span class="o">+</span><span class="s1">'\')"&gt;Borrar Producto&lt;/button&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;div class="row espaciador"&gt;'</span><span class="p">;</span>
        <span class="nx">prevProducto</span><span class="o">+=</span><span class="s1">'&lt;/div&gt;'</span><span class="p">;</span>

        <span class="nx">$</span><span class="p">(</span><span class="nx">prevProducto</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#listado'</span><span class="p">);</span>
    <span class="p">});</span>

<span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">objetoError</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Error de lectura:'</span><span class="o">+</span><span class="nx">objetoError</span><span class="p">.</span><span class="nx">code</span><span class="p">);</span>
<span class="p">});</span>


<span class="kd">function</span> <span class="nx">editarProducto</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Para pasar el ID a otro proceso lo hacemos a través de window.name</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span> <span class="nx">id</span><span class="p">;</span>

    <span class="c1">// Cargamos la página editarproducto.html</span>
    <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'editarproducto.html'</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">borrarProducto</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">confirm</span><span class="p">(</span><span class="s2">"¿Está seguro/a de que quiere borrar este artículo?"</span><span class="p">)</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">referencia</span><span class="p">.</span><span class="nx">child</span><span class="p">(</span><span class="nx">id</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<ul><li>Aspecto de la <b>administración</b> con el <b>usuario logueado</b>:</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Administracion-loggued-user.jpg" class="image"><img alt="Administracion-loggued-user.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Administracion-loggued-user.jpg" width="621" height="491"></a>
</p>
<h3><span id="Nuevo_Producto_(usuarios_autenticados)"></span><span class="mw-headline" id="Nuevo_Producto_.28usuarios_autenticados.29">Nuevo Producto (usuarios autenticados)</span></h3>
<ul><li>Editamos la página <b>js/nuevoproducto.js</b> para tener en cuenta el usuario logueado:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span> <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
 <span class="p">{</span>
    <span class="c1">// Inicializar la base de datos</span>
    <span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">apiKey</span><span class="o">:</span> <span class="s2">"AIzaSyANBMwjLUMhYwq2CDywa0Z47G2E3aJQ3ex"</span><span class="p">,</span>
        <span class="nx">authDomain</span><span class="o">:</span> <span class="s2">"veigapp.firebaseapp.com"</span><span class="p">,</span>
        <span class="nx">databaseURL</span><span class="o">:</span> <span class="s2">"https://veigapp.firebaseio.com"</span><span class="p">,</span>
        <span class="nx">projectId</span><span class="o">:</span> <span class="s2">"firebase-veigapp"</span><span class="p">,</span>
        <span class="nx">storageBucket</span><span class="o">:</span> <span class="s2">"firebase-veigapp.appspot.com"</span><span class="p">,</span>
        <span class="nx">messagingSenderId</span><span class="o">:</span> <span class="s2">"841479533091"</span>
    <span class="p">};</span>
    <span class="nx">firebase</span><span class="p">.</span><span class="nx">initializeApp</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">database</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">database</span><span class="p">();</span>

    <span class="kd">var</span> <span class="nx">articulo</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">descripcion</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">precio</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">imagen</span><span class="p">;</span>

    <span class="c1">// Chequeamos la autenticación antes de acceder al resto de contenido de este fichero.</span>
    <span class="nx">firebase</span><span class="p">.</span><span class="nx">auth</span><span class="p">().</span><span class="nx">onAuthStateChanged</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">user</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Usuario: '</span><span class="o">+</span><span class="nx">user</span><span class="p">.</span><span class="nx">uid</span><span class="o">+</span><span class="s1">' está logueado con '</span><span class="o">+</span><span class="nx">user</span><span class="p">.</span><span class="nx">providerData</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">providerId</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">logueado</span><span class="o">=</span><span class="s1">'&lt;li&gt;&lt;p class="navbar-text navbar-center"&gt;'</span><span class="o">+</span><span class="nx">user</span><span class="p">.</span><span class="nx">email</span><span class="o">+</span><span class="s1">'&lt;/p&gt;&lt;/li&gt;'</span><span class="p">;</span>
            <span class="nx">logueado</span><span class="o">+=</span><span class="s1">'&lt;li&gt;&lt;button type="button" class="btn btn-warning navbar-btn" id="botonLogout"&gt;Salir&lt;/button&gt;&lt;/li&gt;'</span><span class="p">;</span>

            <span class="nx">$</span><span class="p">(</span><span class="nx">logueado</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'.nav'</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonLogout"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">desconectar</span><span class="p">);</span>

        <span class="p">}</span> <span class="k">else</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Usuario no logueado'</span><span class="p">);</span>
            <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'login.html'</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>


    <span class="kd">function</span> <span class="nx">desconectar</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">firebase</span><span class="p">.</span><span class="nx">auth</span><span class="p">().</span><span class="nx">signOut</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
        <span class="p">{</span>
           <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'index.html'</span><span class="p">);</span>
       <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
       <span class="p">{</span>
          <span class="nx">alert</span><span class="p">(</span><span class="s2">"Error al intentar desconectarse."</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">}</span>


    <span class="nx">$</span><span class="p">(</span><span class="s2">"#imagen"</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">descriptor</span><span class="o">=</span><span class="k">new</span> <span class="nx">FileReader</span><span class="p">();</span>
        <span class="nx">descriptor</span><span class="p">.</span><span class="nx">readAsDataURL</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

        <span class="nx">descriptor</span><span class="p">.</span><span class="nx">onloadend</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="nx">imagen</span><span class="o">=</span><span class="nx">descriptor</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"#previsualizacion"</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span><span class="nx">imagen</span><span class="p">);</span>
        <span class="p">};</span>
    <span class="p">});</span>


    <span class="nx">$</span><span class="p">(</span><span class="s2">"#formularioAlta"</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">articulo</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#articulo"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="nx">descripcion</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#descripcion"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="nx">precio</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#precio"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">articulo</span> <span class="o">&amp;&amp;</span> <span class="nx">descripcion</span> <span class="o">&amp;&amp;</span> <span class="nx">precio</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonGuardar"</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">,</span><span class="kc">false</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonGuardar"</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">,</span><span class="kc">true</span><span class="p">);</span>
        <span class="p">}</span>

    <span class="p">});</span>


    <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonGuardar"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">articulo</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#articulo"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="nx">descripcion</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#descripcion"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="nx">precio</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#precio"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">imagen</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">imagen</span><span class="o">=</span><span class="s2">"NONE"</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// Indicamos que la referencia base de nuestra base de datos es productos (algo así como el padre)</span>
        <span class="c1">// del que colgarán el resto de nodos hijos.</span>
        <span class="cm">/*</span>
<span class="cm">        var usersRef = new Firebase('https://samplechat.firebaseio-demo.com/users');</span>
<span class="cm">        var fredRef = usersRef.child('fred');</span>
<span class="cm">        var fredFirstNameRef = fredRef.child('name/first');</span>
<span class="cm">        */</span>
        <span class="kd">var</span> <span class="nx">referencia</span><span class="o">=</span><span class="nx">database</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s2">"productos"</span><span class="p">);</span>


        <span class="c1">// De la siguiente forma el método sobreescribe los datos</span>
    <span class="cm">/*</span>
<span class="cm">        referencia.set(</span>
<span class="cm">        {</span>
<span class="cm">            articulo: articulo,</span>
<span class="cm">            descripcion: descripcion,</span>
<span class="cm">            precio: precio,</span>
<span class="cm">            imagen: imagen</span>
<span class="cm">        });</span>
<span class="cm">        */</span>

        <span class="c1">// Ahora estamos poniendo el articulo como clave en la colección</span>
        <span class="c1">// De esta manera podremos añadir nuevos articulos o actualizar uno ya existente.</span>

    <span class="cm">/*</span>
<span class="cm">        referencia.child(articulo).set(</span>
<span class="cm">        {</span>
<span class="cm">            descripcion: descripcion,</span>
<span class="cm">            precio: precio,</span>
<span class="cm">            imagen: imagen</span>
<span class="cm">        });</span>
<span class="cm">        */</span>

        <span class="c1">// Si queremos permitir que hayas artículos con nombres duplicados entonces tendremos</span>
        <span class="c1">// que decirle a Firebase que utilice otra clave en lugar del nombre del articulo.</span>
        <span class="c1">// Usaremos el método push en lugar de set</span>
        <span class="nx">referencia</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="nx">articulo</span><span class="o">:</span> <span class="nx">articulo</span><span class="p">,</span>
            <span class="nx">descripcion</span><span class="o">:</span> <span class="nx">descripcion</span><span class="p">,</span>
            <span class="nx">precio</span><span class="o">:</span> <span class="nx">precio</span><span class="p">,</span>
            <span class="nx">imagen</span><span class="o">:</span> <span class="nx">imagen</span>
        <span class="p">},</span><span class="kd">function</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'El alta se ha realizado correctamente'</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">});</span>

<span class="p">});</span>
</pre></div>
<ul><li>Aspecto de la <b>Añadir Productos</b> con el <b>usuario logueado</b>:</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:NuevoProducto-logued-user.jpg" class="image"><img alt="NuevoProducto-logued-user.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/NuevoProducto-logued-user.jpg" width="578" height="598"></a>
</p>
<h3><span id="Editar_Producto_(usuarios_autenticados)"></span><span class="mw-headline" id="Editar_Producto_.28usuarios_autenticados.29">Editar Producto (usuarios autenticados)</span></h3>
<ul><li>Editamos la página <b>js/editarproducto.js</b> para tener en cuenta el usuario logueado:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Inicializar la base de datos</span>
    <span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">apiKey</span><span class="o">:</span> <span class="s2">"AIzaSyANBMwjLUMhYwq2CDywa0Z47G2E3aJQ3ex"</span><span class="p">,</span>
        <span class="nx">authDomain</span><span class="o">:</span> <span class="s2">"veigapp.firebaseapp.com"</span><span class="p">,</span>
        <span class="nx">databaseURL</span><span class="o">:</span> <span class="s2">"https://veigapp.firebaseio.com"</span><span class="p">,</span>
        <span class="nx">projectId</span><span class="o">:</span> <span class="s2">"firebase-veigapp"</span><span class="p">,</span>
        <span class="nx">storageBucket</span><span class="o">:</span> <span class="s2">"firebase-veigapp.appspot.com"</span><span class="p">,</span>
        <span class="nx">messagingSenderId</span><span class="o">:</span> <span class="s2">"841479533091"</span>
    <span class="p">};</span>

    <span class="nx">firebase</span><span class="p">.</span><span class="nx">initializeApp</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">database</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">database</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">referencia</span><span class="o">=</span><span class="nx">database</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s2">"productos"</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">productoId</span><span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
    <span class="c1">//console.log(productoId);</span>

    <span class="kd">var</span> <span class="nx">articulo</span><span class="p">,</span> <span class="nx">descripcion</span><span class="p">,</span> <span class="nx">precio</span><span class="p">,</span> <span class="nx">imagen</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">producto</span><span class="o">=</span><span class="p">{};</span>

    <span class="c1">// Chequeamos la autenticación antes de acceder al resto de contenido de este fichero.</span>
    <span class="nx">firebase</span><span class="p">.</span><span class="nx">auth</span><span class="p">().</span><span class="nx">onAuthStateChanged</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">user</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Usuario: '</span><span class="o">+</span><span class="nx">user</span><span class="p">.</span><span class="nx">uid</span><span class="o">+</span><span class="s1">' está logueado con '</span><span class="o">+</span><span class="nx">user</span><span class="p">.</span><span class="nx">providerData</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">providerId</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">logueado</span><span class="o">=</span><span class="s1">'&lt;li&gt;&lt;p class="navbar-text navbar-center"&gt;'</span><span class="o">+</span><span class="nx">user</span><span class="p">.</span><span class="nx">email</span><span class="o">+</span><span class="s1">'&lt;/p&gt;&lt;/li&gt;'</span><span class="p">;</span>
            <span class="nx">logueado</span><span class="o">+=</span><span class="s1">'&lt;li&gt;&lt;button type="button" class="btn btn-warning navbar-btn" id="botonLogout"&gt;Salir&lt;/button&gt;&lt;/li&gt;'</span><span class="p">;</span>

            <span class="nx">$</span><span class="p">(</span><span class="nx">logueado</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'.nav'</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonLogout"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">desconectar</span><span class="p">);</span>

        <span class="p">}</span> <span class="k">else</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Usuario no logueado'</span><span class="p">);</span>
            <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'login.html'</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>


    <span class="kd">function</span> <span class="nx">desconectar</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">firebase</span><span class="p">.</span><span class="nx">auth</span><span class="p">().</span><span class="nx">signOut</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
        <span class="p">{</span>
           <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'index.html'</span><span class="p">);</span>
       <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
       <span class="p">{</span>
          <span class="nx">alert</span><span class="p">(</span><span class="s2">"Error al intentar desconectarse."</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">}</span>

    <span class="c1">// Buscamos el artículo.</span>
    <span class="nx">referencia</span><span class="p">.</span><span class="nx">child</span><span class="p">(</span><span class="nx">productoId</span><span class="p">).</span><span class="nx">once</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">datos</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">producto</span><span class="o">=</span><span class="nx">datos</span><span class="p">.</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">articulo</span><span class="o">=</span> <span class="nx">producto</span><span class="p">.</span><span class="nx">articulo</span><span class="p">;</span>
        <span class="nx">descripcion</span><span class="o">=</span> <span class="nx">producto</span><span class="p">.</span><span class="nx">descripcion</span><span class="p">;</span>
        <span class="nx">precio</span><span class="o">=</span><span class="nx">producto</span><span class="p">.</span><span class="nx">precio</span><span class="p">;</span>
        <span class="nx">imagenEdicion</span><span class="o">=</span><span class="nx">producto</span><span class="p">.</span><span class="nx">imagen</span><span class="p">;</span>

        <span class="nx">$</span><span class="p">(</span><span class="s1">'#articulo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">articulo</span><span class="p">);</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">'#descripcion'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">descripcion</span><span class="p">);</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">'#precio'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">precio</span><span class="p">);</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">'#previsualizacion'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'src'</span><span class="p">,</span><span class="nx">imagenEdicion</span><span class="p">);</span>
    <span class="p">});</span>


    <span class="nx">$</span><span class="p">(</span><span class="s2">"#imagen"</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">descriptor</span><span class="o">=</span><span class="k">new</span> <span class="nx">FileReader</span><span class="p">();</span>
        <span class="nx">descriptor</span><span class="p">.</span><span class="nx">readAsDataURL</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

        <span class="nx">descriptor</span><span class="p">.</span><span class="nx">onloadend</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="nx">imagenEdicion</span><span class="o">=</span><span class="nx">descriptor</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">"#previsualizacion"</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span><span class="nx">imagenEdicion</span><span class="p">);</span>
        <span class="p">};</span>
    <span class="p">});</span>

    <span class="nx">$</span><span class="p">(</span><span class="s2">"#botonActualizar"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">articulo</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#articulo"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="kd">var</span> <span class="nx">descripcion</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#descripcion"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="kd">var</span> <span class="nx">precio</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#precio"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="kd">var</span> <span class="nx">imagen</span><span class="o">=</span><span class="nx">imagenEdicion</span><span class="p">;</span>

        <span class="c1">// Guardamos los datos en referencia</span>
        <span class="nx">referencia</span><span class="p">.</span><span class="nx">child</span><span class="p">(</span><span class="nx">productoId</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="nx">articulo</span><span class="o">:</span> <span class="nx">articulo</span><span class="p">,</span>
            <span class="nx">descripcion</span><span class="o">:</span> <span class="nx">descripcion</span><span class="p">,</span>
            <span class="nx">precio</span><span class="o">:</span> <span class="nx">precio</span><span class="p">,</span>
            <span class="nx">imagen</span><span class="o">:</span> <span class="nx">imagen</span><span class="p">,</span>
        <span class="p">},</span> <span class="nx">alFinalizar</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">alFinalizar</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'Ha habido problemas al realizar la operación: '</span><span class="o">+</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span><span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'Operación realizada con éxito !'</span><span class="p">);</span>
            <span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">'administracion.html'</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
<h2><span class="mw-headline" id="Hosting_en_Firebase">Hosting en Firebase</span></h2>
<ul><li>Firebase ofrece hosting de nuestra aplicación. <b><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://firebase.google.com/docs/hosting/?hl=es">https://firebase.google.com/docs/hosting/?hl=es</a></b></li>
<li>Información de cómo configurar el hosting en la sección <b>Hosting</b> del <b>menú izquierdo</b>.</li>
<li>Es necesario tener instalado previamente <b>Node.js</b>: <b><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://nodejs.org/en/">https://nodejs.org/en/</a></b></li>
<li>Tendremos que instalar <b>FIREBASE CLI</b> desde <b>npm</b>. <b><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://firebase.google.com/docs/cli/?hl=es">https://firebase.google.com/docs/cli/?hl=es</a></b></li></ul>
<h3><span id="Configuración_de_las_herramientas_para_trabajar_desde_línea_de_comandos"></span><span class="mw-headline" id="Configuraci.C3.B3n_de_las_herramientas_para_trabajar_desde_l.C3.ADnea_de_comandos">Configuración de las herramientas para trabajar desde línea de comandos</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># Instalamos firebase-tools a nivel global</span>
npm install -g firebase-tools

<span class="c1"># Cerramos la línea de comandos y volvemos a abrirla para ejecutar el comando "firebase login" para permitir el acceso de nuestra aplicación</span>
<span class="c1"># Se abrirá una ventana de navegador, dónde tendremos que autorizar el acceso a nuestra base de datos.</span>
firebase login

<span class="c1"># Obtendremos algo como ésto:</span>
D:<span class="se">\x</span>ampp<span class="se">\h</span>tdocs<span class="se">\w</span>eb<span class="se">\_</span>dev<span class="se">\w</span>ww.veiga.local<span class="se">\f</span>irebasegoogle&gt;firebase login
? Allow Firebase to collect anonymous CLI usage information? Yes

Visit this URL on any device to log in:
https://accounts.google.com/o/oauth2/auth?client_id<span class="o">=</span><span class="m">563584335869</span>-fgrhgmd47bq......

Waiting <span class="k">for</span> authentication...

<span class="c1"># Se abrirá en el navegador una ventana de autorización:</span>
</pre></div>
<ul><li>Aspecto de la <b>ventana de autorización</b> de acceso a Firebase:</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Autorizacion-firebase.jpg" class="image"><img alt="Autorizacion-firebase.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Autorizacion-firebase.jpg" width="449" height="656"></a>
<br><br>
</p>
<ul><li>Aspecto de la <b>ventana de confirmación de autorización</b> de acceso a Firebase:</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Autorizacion-OK-firebase.jpg" class="image"><img alt="Autorizacion-OK-firebase.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Autorizacion-OK-firebase.jpg" width="418" height="208"></a>
<br><br>
</p>
<ul><li>Por último se mostrará en la línea de comandos el mensaje de autenticación con éxito.</li>
<li>A partir de este momento podremos interactuar con Firebase a través de la línea de comandos.</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>D:<span class="se">\x</span>ampp<span class="se">\h</span>tdocs<span class="se">\w</span>eb<span class="se">\_</span>dev<span class="se">\w</span>ww.veiga.local<span class="se">\f</span>irebasegoogle&gt;firebase login
? Allow Firebase to collect anonymous CLI usage information? Yes

Visit this URL on any device to log in:
https://accounts.google.com/o/oauth2/auth?client_id<span class="o">=</span><span class="m">563584335869</span>-fgrhgmd47bq......

Waiting <span class="k">for</span> authentication...

+  Success! Logged in as veiga@iessanclemente.net
</pre></div>
<h3><span id="Inicialización_y_envío_de_la_aplicación_a_Firebase"></span><span class="mw-headline" id="Inicializaci.C3.B3n_y_env.C3.ADo_de_la_aplicaci.C3.B3n_a_Firebase">Inicialización y envío de la aplicación a Firebase</span></h3>
<ul><li><b>Listado de aplicaciones</b> con <b>firebase list</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># Para ver todas nuestras aplicaciones de Firebase lo haremos con '''firebase list''':</span>
D:<span class="se">\x</span>ampp<span class="se">\h</span>tdocs<span class="se">\w</span>eb<span class="se">\_</span>dev<span class="se">\w</span>ww.veiga.local<span class="se">\f</span>irebasegoogle&gt;firebase list
</pre></div>
<p><br>
</p><p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-list.jpg" class="image"><img alt="Firebase-list.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-list.jpg" width="579" height="153"></a>
<br>
</p>
<ul><li>A Firebase le tendremos que indicar qué carpeta es la que queremos subir al servidor.</li>
<li>Para ello creamos una <b>carpeta en nuestro proyecto</b> llamada <b>deploy</b> y <b>hacemos una copia de todo nuestro proyecto allí dentro</b>.</li>
<li>Entramos desde la línea de comandos en la carpeta principal de nuestro proyecto (<b>no entrar en la carpeta deploy</b>).</li></ul>
<ul><li>Una vez dentro de la carpeta del proyecto ejecutaremos el comando <b>firebase init</b>&nbsp;:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># Le indicamos que queremos Hosting, para ello usamos los cursores y el espaciador para dejar marcado solamente Hosting.</span>

D:<span class="se">\x</span>ampp<span class="se">\h</span>tdocs<span class="se">\w</span>eb<span class="se">\_</span>dev<span class="se">\w</span>ww.veiga.local<span class="se">\f</span>irebasegoogle&gt;firebase init

     <span class="c1">######## #### ########  ######## ########     ###     ######  ########</span>
     <span class="c1">##        ##  ##     ## ##       ##     ##  ##   ##  ##       ##</span>
     <span class="c1">######    ##  ########  ######   ########  #########  ######  ######</span>
     <span class="c1">##        ##  ##    ##  ##       ##     ## ##     ##       ## ##</span>
     <span class="c1">##       #### ##     ## ######## ########  ##     ##  ######  ########</span>

You<span class="err">'</span>re about to initialize a Firebase project in this directory:

  D:<span class="se">\x</span>ampp<span class="se">\h</span>tdocs<span class="se">\w</span>eb<span class="se">\_</span>dev<span class="se">\w</span>ww.veiga.local<span class="se">\f</span>irebasegoogle

? Are you ready to proceed? Yes
? What Firebase CLI features <span class="k">do</span> you want to setup <span class="k">for</span> this folder? <span class="o">(</span>Press &lt;space&gt; to <span class="k">select</span><span class="o">)</span>
 <span class="o">(</span> <span class="o">)</span> Database: Deploy Firebase Realtime Database Rules
 <span class="o">(</span> <span class="o">)</span> Functions: Configure and deploy Cloud Functions
&gt;<span class="o">(</span>*<span class="o">)</span> Hosting: Configure and deploy Firebase Hosting sites
</pre></div>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># Seleccionamos a continuación el proyecto dónde vamos a alojar los ficheros.</span>
<span class="c1"># Indicamos también el directorio deploy</span>
<span class="c1"># Y que no queremos sobreescribir el index.html que ya tenemos.</span>

<span class="o">===</span> Project Setup

First, let<span class="s1">'s associate this project directory with a Firebase project.</span>
<span class="s1">You can create multiple project aliases by running firebase use --add,</span>
<span class="s1">but for now we'</span>ll just <span class="nb">set</span> up a default project.

? What Firebase project <span class="k">do</span> you want to associate as default? demoapp <span class="o">(</span>firebase-veigapp<span class="o">)</span>

<span class="o">===</span> Hosting Setup

Your public directory is the folder <span class="o">(</span>relative to your project directory<span class="o">)</span> that
will contain Hosting assets to be uploaded with firebase deploy. If you
have a build process <span class="k">for</span> your assets, use your build<span class="err">'</span>s output directory.

? What <span class="k">do</span> you want to use as your public directory? deploy
? Configure as a single-page app <span class="o">(</span>rewrite all urls to /index.html<span class="o">)</span>? No
+  Wrote deploy/404.html
? File deploy/index.html already exists. Overwrite? No
i  Skipping write of deploy/index.html

i  Writing configuration info to firebase.json...
i  Writing project information to .firebaserc...

+  Firebase initialization complete!
</pre></div>
<ul><li>Contenido del fichero <b>firebase.json</b> creado después de la <b>inicialización</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="err">#</span> <span class="nx">Contenido</span> <span class="nx">del</span> <span class="nx">fichero</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">json</span><span class="o">:</span>
<span class="p">{</span>
  <span class="s2">"hosting"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"public"</span><span class="o">:</span> <span class="s2">"deploy"</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p><br><br>
</p>
<ul><li>Para <b>subir la aplicación al servidor</b> se hace con <b>firebase deploy</b>:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>D:<span class="se">\x</span>ampp<span class="se">\h</span>tdocs<span class="se">\w</span>eb<span class="se">\_</span>dev<span class="se">\w</span>ww.veiga.local<span class="se">\f</span>irebasegoogle&gt;firebase <span class="nv">deploy</span>

<span class="o">===</span> Deploying to <span class="s1">'firebase-veigapp'</span>...

i  deploying hosting
i  hosting: preparing deploy directory <span class="k">for</span> upload...
+  hosting: <span class="m">15</span> files uploaded successfully
i  starting release process <span class="o">(</span>may take several minutes<span class="o">)</span>...

+  Deploy complete!

Project Console: https://console.firebase.google.com/project/firebase-veigapp/overview
Hosting URL: https://veigapp.firebaseapp.com
</pre></div>
<p><br>
</p>
<ul><li>La <b>URL de nuestra aplicación</b> será: <b><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://veigapp.firebaseapp.com/">https://veigapp.firebaseapp.com</a></b></li>
<li>La <b>URL del Dashboard</b> será: <b><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://console.firebase.google.com/project/firebase-veigapp/overview">https://console.firebase.google.com/project/firebase-veigapp/overview</a></b></li></ul>
<p><br><br>
</p>
<ul><li><b>Aspecto de la aplicación en el DashBoard</b>.</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-dashboard-app.jpg" class="image"><img alt="Firebase-dashboard-app.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-dashboard-app.jpg" width="957" height="444"></a>
</p><p><br><br>
</p>
<ul><li>Se podrán realizar todos los envíos que queramos con <b>firebase deploy</b> y desde el <b>DashBoard</b> podremos <b>revertir</b> o <b>eliminar</b> la <b>versión</b> que queramos.</li></ul>
<p><a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-deployments.jpg" class="image"><img alt="Firebase-deployments.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-deployments.jpg" width="959" height="145"></a>
</p><p><br><br>
</p>
<h3><span id="Desactivación_del_Hosting_en_Firebase"></span><span class="mw-headline" id="Desactivaci.C3.B3n_del_Hosting_en_Firebase">Desactivación del Hosting en Firebase</span></h3>
<ul><li>Si queremos <b>desactivar el hosting</b> podremos hacerlo con <b>firebase hosting:disable</b></li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>D:<span class="se">\x</span>ampp<span class="se">\h</span>tdocs<span class="se">\w</span>eb<span class="se">\_</span>dev<span class="se">\w</span>ww.veiga.local<span class="se">\f</span>irebasegoogle&gt;firebase hosting:disable
? Are you sure you want to disable Firebase Hosting?
  This will immediately make your site inaccessible! Yes
+  Hosting has been disabled <span class="k">for</span> firebase-veigapp. Deploy a new version to re-enable.

D:<span class="se">\x</span>ampp<span class="se">\h</span>tdocs<span class="se">\w</span>eb<span class="se">\_</span>dev<span class="se">\w</span>ww.veiga.local<span class="se">\f</span>irebasegoogle&gt;
</pre></div>
<p><br>
<a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-hosting-disabled.jpg" class="image"><img alt="Firebase-hosting-disabled.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-hosting-disabled.jpg" width="956" height="151"></a>
<br>
</p>
<ul><li>Para volver a <b>reactivar el hosting</b>, simplemente realizaremos un nuevo <b>firebase deploy</b></li></ul>
<p><br>
<a href="https://manuais.iessanclemente.net/index.php/Archivo:Firebase-hosting-nuevo-deploy.jpg" class="image"><img alt="Firebase-hosting-nuevo-deploy.jpg" src="./Firebase - Base de Datos en Tiempo Real_files/Firebase-hosting-nuevo-deploy.jpg" width="948" height="214"></a>
<br>
</p><p><a href="https://manuais.iessanclemente.net/index.php/Usuario:Veiga" title="Usuario:Veiga">Veiga</a> (<a href="https://manuais.iessanclemente.net/index.php?title=Usuario_discusi%C3%B3n:Veiga&amp;action=edit&amp;redlink=1" class="new" title="Usuario discusión:Veiga (la página no existe)">discusión</a>) 14:27 6 abr 2017 (CEST)
</p>
<!-- 
NewPP limit report
Cached time: 20200603142758
Cache expiry: 1209600
Dynamic content: false
CPU time usage: 0.302 seconds
Real time usage: 5.150 seconds
Preprocessor visited node count: 316/1000000
Preprocessor generated node count: 624/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 180815/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key manuais:pcache:idhash:14986-0!canonical and timestamp 20200603142753 and revision id 64921
 -->
</div></div>					<div class="printfooter">
						Obtenido de «<a dir="ltr" href="https://manuais.iessanclemente.net/index.php?title=Firebase_-_Base_de_Datos_en_Tiempo_Real&amp;oldid=64921">https://manuais.iessanclemente.net/index.php?title=Firebase_-_Base_de_Datos_en_Tiempo_Real&amp;oldid=64921</a>»					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Menú de navegación</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Herramientas personales</h3>
						<ul>
							<li id="pt-login"><a href="https://manuais.iessanclemente.net/index.php?title=Especial:Entrar&amp;returnto=Firebase+-+Base+de+Datos+en+Tiempo+Real" title="Te recomendamos iniciar sesión, aunque no es obligatorio [alt-shift-o]" accesskey="o">Acceder</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Espacios de nombres</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real" title="Ver la página de contenido [alt-shift-c]" accesskey="c">Página</a></span></li><li id="ca-talk" class="new"><span><a href="https://manuais.iessanclemente.net/index.php?title=Discusi%C3%B3n:Firebase_-_Base_de_Datos_en_Tiempo_Real&amp;action=edit&amp;redlink=1" rel="discussion" title="Discusión acerca de la página de contenido (la página no existe) [alt-shift-t]" accesskey="t">Discusión</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label">
						<h3 id="p-variants-label">
							<span>Variantes</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Vistas</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="https://manuais.iessanclemente.net/index.php/Firebase_-_Base_de_Datos_en_Tiempo_Real">Leer</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://manuais.iessanclemente.net/index.php?title=Firebase_-_Base_de_Datos_en_Tiempo_Real&amp;action=edit" title="Esta página está protegida.
Puedes ver su código fuente [alt-shift-e]" accesskey="e">Ver código</a></span></li><li id="ca-history" class="collapsible" style="display: block;"><span><a href="https://manuais.iessanclemente.net/index.php?title=Firebase_-_Base_de_Datos_en_Tiempo_Real&amp;action=history" title="Versiones anteriores de esta página [alt-shift-h]" accesskey="h">Ver historial</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label" style="">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label" style=""><span>Más</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Buscar</label>
						</h3>
						<form action="https://manuais.iessanclemente.net/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Buscar en Manuais Informática - IES San Clemente." title="Buscar en Manuais Informática - IES San Clemente. [alt-shift-f]" accesskey="f" id="searchInput" tabindex="1" autocomplete="off"><input type="hidden" value="Especial:Buscar" name="title"><input type="submit" name="go" value="Ir" title="Ir a la página con este nombre exacto si existe" id="searchButton" class="searchButton">							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="https://manuais.iessanclemente.net/index.php/Portada" title="Visitar la página principal"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navegación</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage-description"><a href="https://manuais.iessanclemente.net/index.php/Portada" title="Visitar la página principal [alt-shift-z]" accesskey="z">Página principal</a></li><li id="n-recentchanges"><a href="https://manuais.iessanclemente.net/index.php/Especial:CambiosRecientes" title="Lista de cambios recientes en el wiki [alt-shift-r]" accesskey="r">Cambios recientes</a></li><li id="n-randompage"><a href="https://manuais.iessanclemente.net/index.php/Especial:Aleatoria" title="Cargar una página al azar [alt-shift-x]" accesskey="x">Página aleatoria</a></li><li id="n-help-mediawiki"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" target="_blank">Help about MediaWiki</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Herramientas</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="https://manuais.iessanclemente.net/index.php/Especial:LoQueEnlazaAqu%C3%AD/Firebase_-_Base_de_Datos_en_Tiempo_Real" title="Lista de todas las páginas del wiki que enlazan aquí [alt-shift-j]" accesskey="j">Lo que enlaza aquí</a></li><li id="t-recentchangeslinked"><a href="https://manuais.iessanclemente.net/index.php/Especial:CambiosEnEnlazadas/Firebase_-_Base_de_Datos_en_Tiempo_Real" rel="nofollow" title="Cambios recientes en las páginas que enlazan con esta [alt-shift-k]" accesskey="k">Cambios relacionados</a></li><li id="t-specialpages"><a href="https://manuais.iessanclemente.net/index.php/Especial:P%C3%A1ginasEspeciales" title="Lista de todas las páginas especiales [alt-shift-q]" accesskey="q">Páginas especiales</a></li><li id="t-permalink"><a href="https://manuais.iessanclemente.net/index.php?title=Firebase_-_Base_de_Datos_en_Tiempo_Real&amp;oldid=64921" title="Enlace permanente a esta versión de la página">Enlace permanente</a></li><li id="t-info"><a href="https://manuais.iessanclemente.net/index.php?title=Firebase_-_Base_de_Datos_en_Tiempo_Real&amp;action=info" title="Más información sobre esta página">Información de la página</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-coll-print_export" aria-labelledby="p-coll-print_export-label">
			<h3 id="p-coll-print_export-label">Imprimir/exportar</h3>
			<div class="body">
								<ul>
					<li id="coll-create_a_book"><a href="https://manuais.iessanclemente.net/index.php?title=Especial:Libro&amp;bookcmd=book_creator&amp;referer=Firebase+-+Base+de+Datos+en+Tiempo+Real">Crear un libro</a></li><li id="coll-download-as-rl"><a href="https://manuais.iessanclemente.net/index.php?title=Especial:Libro&amp;bookcmd=render_article&amp;arttitle=Firebase+-+Base+de+Datos+en+Tiempo+Real&amp;returnto=Firebase+-+Base+de+Datos+en+Tiempo+Real&amp;oldid=64921&amp;writer=rl">Descargar como PDF</a></li><li id="t-print"><a href="https://manuais.iessanclemente.net/index.php?title=Firebase_-_Base_de_Datos_en_Tiempo_Real&amp;printable=yes" title="Versión imprimible de esta página [alt-shift-p]" accesskey="p">Versión para imprimir</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> Esta página se editó por última vez el 24 oct 2018 a las 18:54.</li>
								<li id="footer-info-copyright">El contenido está disponible bajo la licencia <a href="https://manuais.iessanclemente.net/index.php/Manuais:About" title="Manuais:About">Creative Commons: CC-BY-NC-SA, </a> a menos que se indique lo contrario.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="https://manuais.iessanclemente.net/index.php/Manuais:Pol%C3%ADtica_de_privacidad" title="Manuais:Política de privacidad">Política de privacidad</a></li>
								<li id="footer-places-about"><a href="https://manuais.iessanclemente.net/index.php/Manuais:Acerca_de" title="Manuais:Acerca de">Acerca de Manuais Informática - IES San Clemente.</a></li>
								<li id="footer-places-disclaimer"><a href="https://manuais.iessanclemente.net/index.php/Manuais:Descargo_general" title="Manuais:Descargo general">Exoneraciones</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by/3.0/" target="_blank"><img src="./Firebase - Base de Datos en Tiempo Real_files/cc-by.png" alt="Creative Commons: CC-BY-NC-SA, " width="88" height="31"></a>					</li>
										<li id="footer-poweredbyico">
						<a href="https://www.mediawiki.org/" target="_blank"><img src="./Firebase - Base de Datos en Tiempo Real_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		
<style>.MathJax_Display{display:inline !important;}
.mathjax-wrapper{font-size:100%;}</style>
<script type="text/x-mathjax-config;executed=true">MathJax.Hub.Config({displayAlign:'left',tex2jax:{displayMath:[['[math]','[/math]']]}})</script>
<script src="./Firebase - Base de Datos en Tiempo Real_files/MathJax.js.descarga" id=""></script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.302","walltime":"5.150","ppvisitednodes":{"value":316,"limit":1000000},"ppgeneratednodes":{"value":624,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":180815,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20200603142758","ttl":1209600,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":50});});</script>
	

<div class="suggestions" style="display: none; font-size: 13px;"><div class="suggestions-results"></div><div class="suggestions-special"></div></div></body></html>